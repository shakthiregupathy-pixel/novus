<!DOCTYPE html>
<html>
<head>
<title>NOVUS Dashboard</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
margin:0;
font-family:Arial, Helvetica, sans-serif;
background:linear-gradient(90deg,#f4f6fb,#8ec5fc);
}

/* navbar */
.top-nav{
height:60px;
background:white;
display:flex;
align-items:center;
justify-content:space-between;
padding:0 20px;
box-shadow:0 2px 10px rgba(0,0,0,0.1);
}

.logo{font-size:20px;font-weight:bold;color:#6a5acd;}

.profile-circle{
width:40px;height:40px;border-radius:50%;
background:linear-gradient(135deg,#6a5acd,#8ec5fc);
color:white;display:flex;align-items:center;justify-content:center;
}

.container{ display:flex; }

/* sidebar */
.sidebar{
width:220px;background:#f1f2f6;
height:calc(100vh - 60px);
padding-top:20px;position:relative;overflow:hidden;
}

/* glow */
.sidebar::after{
content:"";position:absolute;inset:0;padding:4px;
background:linear-gradient(90deg,#6a5acd,#8ec5fc,#6a5acd,#8ec5fc);
background-size:300% 300%;
-webkit-mask:linear-gradient(#000 0 0) content-box,linear-gradient(#000 0 0);
-webkit-mask-composite:xor;mask-composite:exclude;
box-shadow:0 0 12px #6a5acd,0 0 22px #8ec5fc;
animation:tubeMove 5s linear infinite;
pointer-events:none;
}
@keyframes tubeMove{
0%{ background-position:0% 50%; }
100%{ background-position:200% 50%; }
}

.sidebar a{text-decoration:none;}
.sidebar-item{
padding:15px 20px;border-radius:10px;margin:5px 10px;
cursor:pointer;background:linear-gradient(135deg,#6a5acd,#8ec5fc);
color:white;font-weight:bold;transition:.25s;
}
.sidebar-item:hover{ transform:translateX(5px); }

.main{ flex:1; padding:30px; }

.profile-card{
background:white;padding:30px;border-radius:20px;
box-shadow:0 20px 40px rgba(0,0,0,0.1);
}

.profile-header{ display:flex; align-items:center; gap:20px; }

.profile-avatar{
width:80px;height:80px;border-radius:50%;
background:linear-gradient(135deg,#6a5acd,#8ec5fc);
color:white;font-size:28px;display:flex;align-items:center;justify-content:center;
}

.info-box{background:#f1f2f6;padding:20px;border-radius:15px;margin-top:20px;}

.stats-grid{
margin-top:25px;display:grid;
grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
gap:20px;
}

.stat-box{
padding:25px;border-radius:18px;text-align:center;color:white;
font-weight:600;background:linear-gradient(135deg,#6a5acd,#8ec5fc);
}
.stat-box h3{ margin:0; font-size:30px; }
</style>
</head>

<body>

<div class="top-nav">
<div class="logo">NOVUS</div>
<div class="profile-circle" id="topInitial">S</div>
</div>

<div class="container">

<div class="sidebar">
<a href="FresherDashboard.html"><div class="sidebar-item">Dashboard</div></a>
<a href="onboarding agent.html"><div class="sidebar-item">Onboarding Agent</div></a>
<a href="assessment agent.html"><div class="sidebar-item">Assessment Agent</div></a>
<a href="Profileagent.html"><div class="sidebar-item">Profile Agent</div></a>
<a href="FresherReport.html"><div class="sidebar-item">Report Agent</div></a>
</div>

<div class="main">
<div class="profile-card">

<div class="profile-header">
<div class="profile-avatar" id="avatarInitial">S</div>
<div>
<h2 id="displayName">Loading...</h2>
<p>Software Engineer Trainee</p>
</div>
</div>

<div class="info-box"><b>Email:</b> <span id="displayEmail">Loading...</span></div>
<div class="info-box"><b>Employee ID:</b> <span id="displayEmpId">Loading...</span></div>

<div class="info-box">
<b>Professional Summary</b>
<p id="displaySummary">Loading...</p>
</div>

<div class="stats-grid">
<div class="stat-box"><h3 id="onboardingPercent">0%</h3>Onboarding</div>
<div class="stat-box"><h3 id="assessmentPercent">0%</h3>Assessment</div>
<div class="stat-box"><h3 id="certPercent">0%</h3>Certifications</div>
<div class="stat-box"><h3 id="overallPercent">0%</h3>Overall</div>
</div>

</div>
</div>

</div>

<!-- â­ FIREBASE -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
import { getAuth,onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";
import { getFirestore,doc,getDoc,collection,query,where,getDocs } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

const firebaseConfig={
apiKey:"AIzaSyDPe0Zp69bnM9251w0FfnH1UPhGedGh4qo",
authDomain:"novus-9dfb8.firebaseapp.com",
projectId:"novus-9dfb8"
};

const app=initializeApp(firebaseConfig);
const auth=getAuth(app);
const db=getFirestore(app);

onAuthStateChanged(auth,async user=>{
if(!user){ location.href="Novus_login.html"; return;}

const userDoc=await getDoc(doc(db,"users",user.uid));
if(userDoc.exists()){
const d=userDoc.data();

displayName.innerText=d.name||"No Name";
displayEmail.innerText=user.email;
displaySummary.innerText=d.professionalSummary||"No Summary";
onboardingPercent.innerText=(d.onboardingPercentage||0)+"%";
assessmentPercent.innerText=(d.assessmentPercentage||0)+"%";
certPercent.innerText=(d.certificationPercentage||0)+"%";
overallPercent.innerText=(d.overallScore||0)+"%";

let letter=d.name?d.name[0].toUpperCase():"S";
avatarInitial.innerText=letter;
topInitial.innerText=letter;
}

const q=query(collection(db,"agents"),where("__name__","==",user.email));
const snap=await getDocs(q);
displayEmpId.innerText=!snap.empty ? snap.docs[0].data().EMPID : "Not Assigned";
});
</script>

</body>
</html>

