<!DOCTYPE html>
<html>
<head>
<title>NOVUS Dashboard</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
margin:0;
font-family:Segoe UI;
background:#000;
color:white;
}

/* navbar */
.top-nav{
height:60px;
display:flex;
align-items:center;
justify-content:space-between;
padding:0 20px;
background:#000;
}

.logo{
font-size:20px;
font-weight:bold;
background:linear-gradient(90deg,#00d4ff,#a855f7);
-webkit-background-clip:text;
color:transparent;
}

.container{ display:flex; }

/* sidebar */
.sidebar{
width:220px;
margin:20px;
border-radius:20px;
padding-top:10px;
background:rgba(255,255,255,0.05);
backdrop-filter:blur(18px);
border:1px solid rgba(255,255,255,0.12);
box-shadow:0 0 18px rgba(0,212,255,0.25),0 0 30px rgba(168,85,247,0.18);
}

.sidebar a{ text-decoration:none;color:white; }

.sidebar-item{
padding:16px 20px;
margin:10px 12px;
border-radius:14px;
cursor:pointer;
background:linear-gradient(135deg,#1f8ac0,#6b5bd6);
}

/* main */
.main{ flex:1; padding:30px; }

/* ðŸ”¥ BLACK MAIN CARD */
.profile-card{
position:relative;
background:#000;
padding:30px;
border-radius:20px;
border:1px solid rgba(255,255,255,0.18);
box-shadow:0 0 25px rgba(0,212,255,0.35),0 0 45px rgba(168,85,247,0.25);
overflow:hidden;
}

/* neon animated border */
.profile-card::before{
content:"";
position:absolute;
inset:-2px;
border-radius:22px;
background:linear-gradient(90deg,#00d4ff,#a855f7,#00d4ff);
background-size:300% 300%;
animation:neonMove 6s linear infinite;
z-index:-1;
filter:blur(10px);
}

@keyframes neonMove{
0%{background-position:0% 50%;}
50%{background-position:100% 50%;}
100%{background-position:0% 50%;}
}

/* reflection sweep */
.light-sweep{
position:absolute;
top:0;
left:-120%;
width:60%;
height:100%;
background:linear-gradient(120deg,transparent,#ffffff22,transparent);
transform:skewX(-25deg);
animation:sweep 5s infinite;
}
@keyframes sweep{
0%{left:-120%;}
100%{left:130%;}
}

/* avatar */
.profile-avatar{
width:80px;height:80px;border-radius:50%;
background:linear-gradient(135deg,#00d4ff,#a855f7);
display:flex;align-items:center;justify-content:center;
font-size:28px;
}

/* ðŸ”¥ INSIDE INFO BOXES BLACK */
.info-box{
margin-top:20px;
padding:18px;
border-radius:15px;
background:#000;
border:1px solid rgba(255,255,255,0.18);
}

/* stats layout */
.stats{
display:grid;
grid-template-columns:repeat(4,1fr);
gap:20px;
margin-top:25px;
}

/* ðŸ”¥ STAT BOXES BLACK */
.stat{
padding:25px;
border-radius:18px;
background:#000;
text-align:center;
border:1px solid rgba(255,255,255,0.18);
box-shadow:0 0 12px rgba(0,212,255,0.25),0 0 22px rgba(168,85,247,0.18);
}
.stat h2{ margin:0;font-size:28px; }
</style>
</head>

<body>

<div class="top-nav">
<div class="logo">NOVUS</div>
<div id="topInitial">U</div>
</div>

<div class="container">

<div class="sidebar">
<a href="FresherDashboard.html"><div class="sidebar-item">Dashboard</div></a>
<a href="onboarding-agent.html"><div class="sidebar-item">Onboarding Agent</div></a>
<a href="assessment-agent.html"><div class="sidebar-item">Assessment Agent</div></a>
<a href="Profileagent.html"><div class="sidebar-item">Profile Agent</div></a>
<a href="FresherReport.html"><div class="sidebar-item">Report Agent</div></a>
</div>

<div class="main">
<div class="profile-card">

<div class="light-sweep"></div>

<div class="profile-avatar" id="avatarInitial">U</div>

<div class="info-box"><b>Name:</b> <span id="displayName">Loading...</span></div>
<div class="info-box"><b>Email:</b> <span id="displayEmail">Loading...</span></div>
<div class="info-box"><b>Employee ID:</b> <span id="displayEmpId">Not Assigned</span></div>
<div class="info-box"><b>Professional Summary:</b> <span id="displaySummary">No Summary</span></div>

<div class="stats">
<div class="stat"><h2 id="onboardingPercent">0%</h2>Onboarding</div>
<div class="stat"><h2 id="assessmentPercent">0%</h2>Assessment</div>
<div class="stat"><h2 id="certPercent">0%</h2>Certifications</div>
<div class="stat"><h2 id="overallPercent">0%</h2>Overall</div>
</div>

</div>
</div>

</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
import { getAuth,onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";
import { getFirestore,doc,getDoc,collection,query,where,getDocs } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

const firebaseConfig={
apiKey:"AIzaSyDPe0Zp69bnM9251w0FfnH1UPhGedGh4qo",
authDomain:"novus-9dfb8.firebaseapp.com",
projectId:"novus-9dfb8"
};

const app=initializeApp(firebaseConfig);
const auth=getAuth(app);
const db=getFirestore(app);

onAuthStateChanged(auth,async user=>{
if(!user){ location.href="Novus_login.html"; return;}

const userDoc=await getDoc(doc(db,"users",user.uid));
if(userDoc.exists()){
const d=userDoc.data();
displayName.innerText=d.name||"No Name";
displayEmail.innerText=user.email;
displaySummary.innerText=d.professionalSummary||"No Summary";
onboardingPercent.innerText=(d.onboardingPercentage||0)+"%";
assessmentPercent.innerText=(d.assessmentPercentage||0)+"%";
certPercent.innerText=(d.certificationPercentage||0)+"%";
overallPercent.innerText=(d.overallScore||0)+"%";

let letter=d.name?d.name[0].toUpperCase():"U";
avatarInitial.innerText=letter;
topInitial.innerText=letter;
}

const q=query(collection(db,"agents"),where("__name__","==",user.email));
const snap=await getDocs(q);
displayEmpId.innerText=!snap.empty && snap.docs[0].data().EMPID
? snap.docs[0].data().EMPID
: "Not Assigned";
});
</script>

</body>
</html>

